(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qBpB:function(t,e,n){"use strict";n.r(e),n.d(e,"BloggingModule",(function(){return N}));var o=n("ofXK"),c=n("PCNd"),a=n("sSeH"),i=n("fXoL"),s=n("3z6g");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["post"]],inputs:{post:"post"},decls:3,vars:3,template:function(t,e){1&t&&(i.Rb(0,"p"),i.Bc(1),i.ec(2,"exponential"),i.Qb()),2&t&&(i.Bb(1),i.Dc(" ",i.fc(2,1,e.post)," "))},pipes:[s.a],styles:[""]}),t})();var b=n("PH1f"),l=n("3SG3"),d=n("l7P3"),g=n("5dsi"),p=n("wgrW"),u=n("zp1y"),f=n("pLZG");let h=(()=>{class t{constructor(t,e){this._store=t,this.idlingService=e,this.readBookSubscription=this.idlingService.timer$.pipe(Object(u.a)(this._store.select(b.h)),Object(f.a)(([t,e])=>e.length>0)).subscribe(([t,e])=>{e.forEach(e=>{e.timeRead+=t.deltaTime,e.timeRead>e.timeToReadChapter(e.chapterRead)&&(e.chapterRead+=1,e.timeRead=0),e.chapterRead===e.totalChapter&&(e.reading=!1),this._store.dispatch(Object(p.g)({book:e}))})})}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(d.h),i.Vb(g.a))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=n("XiUz"),m=n("wZkO"),x=n("y3F+"),I=n("XNiG"),C=n("lJxs"),y=n("JPwd"),O=n("VW+A"),B=n("znSr"),v=n("Qu3c"),P=n("bTqV");const R=["checkboxIdea"];function M(t,e){if(1&t){const t=i.Sb();i.Rb(0,"span"),i.Bc(1," automate "),i.Rb(2,"input",8,9),i.Zb("click",(function(){return i.qc(t),i.dc(3).autoIdea()})),i.ec(4,"async"),i.Qb(),i.Qb()}if(2&t){const t=i.dc(3);i.Bb(2),i.ic("checked",i.fc(4,1,t.isAutomateIdea$))}}const _=function(t,e){return{canGetIdea:t,cantGetIdea:e}};function w(t,e){if(1&t){const t=i.Sb();i.Rb(0,"span",10),i.Zb("click",(function(){return i.qc(t),i.dc(3).doGetIdea$.next("$")})),i.ec(1,"async"),i.ec(2,"async"),i.Bc(3),i.ec(4,"exponential"),i.Qb()}if(2&t){const t=i.dc().ngIf,e=i.dc(2);var n=null;i.ic("ngClass",i.lc(8,_,(null==(n=i.fc(1,2,e.money$))?null:n.amount)>=t.priceDollar(),(null==(n=i.fc(2,4,e.money$))?null:n.amount)<=t.priceDollar())),i.Bb(3),i.Dc(" 1 Idea : ",i.fc(4,6,t.priceDollar()),"$ ")}}function $(t,e){if(1&t){const t=i.Sb();i.Rb(0,"div",5),i.Rb(1,"span"),i.Bc(2),i.Qb(),i.Ac(3,M,5,3,"span",2),i.ec(4,"async"),i.Rb(5,"span",6),i.Zb("mousedown",(function(){return i.qc(t),i.dc(2).mouseDownIdea("I")}))("mouseup",(function(){return i.qc(t),i.dc(2).stopGetIdea()})),i.Bc(6),i.ec(7,"exponential"),i.Qb(),i.Ac(8,w,5,11,"span",7),i.Qb()}if(2&t){const t=e.ngIf,n=i.dc().ngIf,o=i.dc();i.Bb(2),i.Dc(" ",t.amount," Ideas"),i.Bb(1),i.ic("ngIf",i.fc(4,5,o.canAutomateIdea$)),i.Bb(2),i.ic("ngClass",i.lc(9,_,(null==n?null:n.amount)>=t.price(),(null==n?null:n.amount)<=t.price())),i.Bb(1),i.Dc(" 1 Idea : ",i.fc(7,7,t.price())," I "),i.Bb(2),i.ic("ngIf",t.canPayToGetIdea)}}function Q(t,e){if(1&t){const t=i.Sb();i.Rb(0,"div",11),i.Rb(1,"button",12),i.Zb("click",(function(){return i.qc(t),i.dc(2).create()})),i.Bc(2,"Create"),i.Qb(),i.Rb(3,"span",13),i.Bc(4),i.ec(5,"exponential"),i.Qb(),i.Rb(6,"span",14),i.Bc(7),i.Qb(),i.Qb()}if(2&t){const t=e.ngIf;i.Bb(4),i.Dc("cost ",i.fc(5,2,t.price())," idea"),i.Bb(3),i.Dc("",t.baseChance,"% to get creation point")}}function A(t,e){if(1&t&&(i.Pb(0),i.Ac(1,$,9,12,"div",3),i.ec(2,"async"),i.Ac(3,Q,8,4,"div",4),i.ec(4,"async"),i.Ob()),2&t){const t=i.dc();i.Bb(1),i.ic("ngIf",i.fc(2,2,t.idea$)),i.Bb(2),i.ic("ngIf",i.fc(4,4,t.creation$))}}const S=function(t){return{think:!0,clicked:t}};let F=(()=>{class t{constructor(t,e){this.store=t,this._bloggingService=e,this.creation$=this.store.select(x.b).pipe(Object(u.a)(this.store.select(b.d,"creationGain")),Object(f.a)(([t])=>void 0!==t),Object(C.a)(([t,e])=>(t.baseChance+=e.reduce((t,e)=>t+e.effect(e.chapterRead),0),t))),this.imagination$=this.store.select(x.e),this.isThinking$=this.store.select(b.g),this.idea$=this.store.select(x.d),this.doGetIdea$=new I.a,this.money$=this.store.select(x.f),this.isAutomateIdea$=this.store.select(b.a),this.canAutomateIdea$=this.store.select(b.e).pipe(Object(C.a)(t=>{var e;return(null===(e=t.find(t=>t.id==y.a.genius.id))||void 0===e?void 0:e.chapterRead)>0})),this.getIdeaSubscription=this.doGetIdea$.pipe(Object(u.a)(this.imagination$,this.idea$,this.money$,(t,e,n,o)=>this._bloggingService.getIdea(t,e,n,o))).subscribe()}ngOnInit(){}think(){this.store.dispatch(Object(p.h)())}create(){this._bloggingService.doGetCreatePoint.next()}mouseDownIdea(t){this.doGetIdea$.next(t),this.getIdeaInterval=setInterval(()=>{this.doGetIdea$.next(t)},400)}stopGetIdea(){clearInterval(this.getIdeaInterval)}autoIdea(){this.store.dispatch(Object(p.a)())}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(d.h),i.Lb(O.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["blogging-actions"]],viewQuery:function(t,e){var n;1&t&&i.Gc(R,!0),2&t&&i.nc(n=i.ac())&&(e.checkboxIdea=n.first)},decls:7,vars:11,consts:[["fxLayout","column","fxFlexAlign","center"],[3,"ngClass","matTooltip","click"],[4,"ngIf"],["fxLayout","column","fxFlexAlign","center","id","ideas",4,"ngIf"],["class","creation",4,"ngIf"],["fxLayout","column","fxFlexAlign","center","id","ideas"],["matTooltip","buff imagination generation, used to create",3,"ngClass","mousedown","mouseup"],[3,"ngClass","click",4,"ngIf"],["type","checkbox",3,"checked","click"],["checkboxIdea",""],[3,"ngClass","click"],[1,"creation"],["mat-button","","mat-fab","","color","primary","matTooltip","C/2 = +0.05I",3,"click"],[1,"creation-idea-cost"],[1,"creation-chance"]],template:function(t,e){var n;1&t&&(i.Rb(0,"div",0),i.Rb(1,"button",1),i.Zb("click",(function(){return e.think()})),i.ec(2,"async"),i.ec(3,"async"),i.Bc(4," Think "),i.Qb(),i.Qb(),i.Ac(5,A,5,6,"ng-container",2),i.ec(6,"async")),2&t&&(i.Bb(1),i.ic("ngClass",i.kc(9,S,i.fc(2,3,e.isThinking$)))("matTooltip",null==(n=i.fc(3,5,e.imagination$))?null:n.gain),i.Bb(4),i.ic("ngIf",i.fc(6,7,e.imagination$)))},directives:[k.d,k.a,o.i,B.a,v.a,o.k,P.a],pipes:[o.b,s.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;place-content:center space-evenly}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{flex:1 1 100%;margin:5px}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;width:56px;height:56px;border:none;outline:none}[_nghost-%COMP%]   button.think[_ngcontent-%COMP%]{box-shadow:0 2px 4px rgba(0,0,0,.26);background-color:rgba(120,224,143,.1);transition:.4s;cursor:pointer}[_nghost-%COMP%]   button.think.clicked[_ngcontent-%COMP%], [_nghost-%COMP%]   button.think[_ngcontent-%COMP%]:hover{box-shadow:inset 0 2px 4px rgba(0,0,0,.26);background-color:rgba(120,224,143,.3)}[_nghost-%COMP%]   button.think.clicked[_ngcontent-%COMP%]:hover{box-shadow:0 2px 4px rgba(0,0,0,.26);background-color:rgba(120,224,143,.1)}[_nghost-%COMP%]   #ideas[_ngcontent-%COMP%]{line-height:16px}[_nghost-%COMP%]   #ideas[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:5px;text-align:center;padding:5px}[_nghost-%COMP%]   #ideas[_ngcontent-%COMP%]   span.canGetIdea[_ngcontent-%COMP%]{border-radius:10px;background-color:rgba(120,224,143,.05);box-shadow:0 1px 2px #78e08f;cursor:pointer}[_nghost-%COMP%]   #ideas[_ngcontent-%COMP%]   span.cantGetIdea[_ngcontent-%COMP%]{border-radius:10px;background-color:rgba(235,47,6,.05);box-shadow:0 1px 2px #eb2f06;cursor:not-allowed}[_nghost-%COMP%]   .creation[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;gap:10px;align-items:center;border-radius:5px;box-shadow:0 1px 5px rgba(0,0,0,.2);padding:.4rem}[_nghost-%COMP%]   .creation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}"]}),t})();var D=n("AY7x");function G(t,e){if(1&t&&(i.Rb(0,"span"),i.Bc(1),i.ec(2,"exponential"),i.Qb()),2&t){const t=i.dc(2);i.Bb(1),i.Ec(" Progression : ",i.fc(2,2,t.book.timeRead)," / ",t.book.timeToReadChapter(t.book.chapterRead)," ")}}function T(t,e){if(1&t&&(i.Rb(0,"div",3),i.Rb(1,"span"),i.Bc(2),i.Qb(),i.Ac(3,G,3,4,"span",4),i.Qb()),2&t){const t=i.dc();i.Bb(2),i.Ec(" Read ",t.book.chapterRead," / ",t.book.totalChapter," "),i.Bb(1),i.ic("ngIf",t.book.chapterRead!=t.book.totalChapter)}}let L=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["book"]],inputs:{book:"book"},decls:6,vars:4,consts:[[1,"bookWrapper"],[1,"bookDescription"],["fxLayout","column","class","bookState",4,"ngIf"],["fxLayout","column",1,"bookState"],[4,"ngIf"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"span"),i.Bc(2),i.Qb(),i.Rb(3,"span",1),i.Bc(4),i.Qb(),i.Ac(5,T,4,3,"div",2),i.Qb()),2&t&&(i.Cb("data-unlocked",e.book.unlocked),i.Bb(2),i.Dc("",e.book.name," !"),i.Bb(2),i.Cc(e.book.effectDescription),i.Bb(1),i.ic("ngIf",e.book.unlocked))},directives:[o.k,k.d],pipes:[s.a],styles:[".bookWrapper[_ngcontent-%COMP%]{display:flex;place-content:center space-between;align-items:center;padding:.5vw;border-top:1px solid #78e08f;box-shadow:0 2px 2px -1px rgba(0,0,0,.2);cursor:pointer}.bookWrapper[data-unlocked=false][_ngcontent-%COMP%]{border-top:1px solid #eb2f06;opacity:.4;cursor:not-allowed}.bookWrapper[_ngcontent-%COMP%]   .bookDescription[_ngcontent-%COMP%]{font-size:.65em}.bookWrapper[_ngcontent-%COMP%]   .bookState[_ngcontent-%COMP%]{font-size:.55em}"],changeDetection:0}),t})();function j(t,e){if(1&t){const t=i.Sb();i.Rb(0,"book",2),i.Zb("click",(function(){i.qc(t);const n=e.$implicit;return i.dc(2).read(n)})),i.Qb()}2&t&&i.ic("book",e.$implicit)}function q(t,e){if(1&t&&(i.Rb(0,"button"),i.Bc(1),i.Qb()),2&t){const t=i.dc().ngIf;i.Bb(1),i.Dc("Buy book for ",10*t.length,"")}}function Z(t,e){if(1&t&&(i.Pb(0),i.Ac(1,j,1,1,"book",1),i.Ac(2,q,2,1,"button",0),i.ec(3,"async"),i.Ob()),2&t){const t=e.ngIf,n=i.dc();i.Bb(1),i.ic("ngForOf",t)("ngForTrackBy",n.trackByFunction),i.Bb(1),i.ic("ngIf",i.fc(3,3,n.canBuyBook$))}}let z=(()=>{class t{constructor(t){this.store=t,this.books$=this.store.select(b.e),this.canBuyBook$=this.store.select(b.f)}ngOnInit(){}trackByFunction(t,e){return e.id}read(t){t.unlocked&&t.chapterRead!=t.totalChapter&&this.store.dispatch(Object(p.g)({book:Object.assign(Object.assign({},t),{reading:!t.reading})}))}buyBook(){}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(d.h))},t.\u0275cmp=i.Fb({type:t,selectors:[["books"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"book","click",4,"ngFor","ngForOf","ngForTrackBy"],[3,"book","click"]],template:function(t,e){1&t&&(i.Ac(0,Z,4,5,"ng-container",0),i.ec(1,"async")),2&t&&i.ic("ngIf",i.fc(1,1,e.books$))},directives:[o.k,o.j,L],pipes:[o.b],styles:["[_nghost-%COMP%]{display:grid;gap:10px;padding:10px;grid-auto-rows:1fr}"]}),t})();function W(t,e){if(1&t&&(i.Rb(0,"section",9),i.Mb(1,"post",10),i.Qb()),2&t){const t=e.ngIf;i.Bb(1),i.ic("post",t.post.message)}}function J(t,e){1&t&&(i.Rb(0,"mat-tab",11),i.Mb(1,"books"),i.Qb())}let V=(()=>{class t{constructor(t,e,n){this.store=t,this.idlingService=e,this.bookService=n,this.upgradeTab="blogging",this.blogging$=this.store.select(b.c),this.books$=this.store.select(b.e),this.upgrades$=this.store.select(l.b)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(d.h),i.Lb(g.a),i.Lb(h))},t.\u0275cmp=i.Fb({type:t,selectors:[["blogging"]],decls:14,vars:7,consts:[["fxLayout","row","fxLayout.lt-lg","column","fxLayoutAlign","center start","fxLayoutAlign.lt-lg","center"],["fxFlex","60"],["label","Blog"],["class","blog",4,"ngIf"],["label","Creation"],["fxFlex","auto"],["label","Upgrades"],["fxFlex","",3,"upgradeTab"],["label","Books",4,"ngIf"],[1,"blog"],[3,"post"],["label","Books"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Rb(1,"div",1),i.Rb(2,"mat-tab-group"),i.Rb(3,"mat-tab",2),i.Mb(4,"blogging-actions"),i.Ac(5,W,2,1,"section",3),i.ec(6,"async"),i.Qb(),i.Mb(7,"mat-tab",4),i.Qb(),i.Qb(),i.Rb(8,"div",5),i.Rb(9,"mat-tab-group"),i.Rb(10,"mat-tab",6),i.Mb(11,"upgrades",7),i.Qb(),i.Ac(12,J,2,0,"mat-tab",8),i.ec(13,"async"),i.Qb(),i.Qb(),i.Qb()),2&t&&(i.Bb(5),i.ic("ngIf",i.fc(6,3,e.blogging$)),i.Bb(6),i.ic("upgradeTab",e.upgradeTab),i.Bb(1),i.ic("ngIf",i.fc(13,5,e.books$).length>0))},directives:[k.d,k.c,k.b,m.c,m.a,F,o.k,D.a,r,z],pipes:[o.b],styles:[""],changeDetection:0}),t})();var X=n("tyNb"),E=n("YUcS");const H=[{path:"",component:V}];let N=(()=>{class t{}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)},imports:[[o.c,c.a,a.a,E.a,X.e.forChild(H)]]}),t})()}}]);